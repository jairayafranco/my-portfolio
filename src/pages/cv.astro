---
import Layout from "../layouts/Layout.astro";
import { calculateTotalTime } from "../utils/calculateTotalTime";
import Icon from "astro-icon";
import { CV } from "../data/cv";
import { getLangFromUrl } from "../i18n/utils";

const { experience, education, skills, certifications } = CV.en;
const lang = getLangFromUrl(Astro.url);
---

<Layout>
    <div class="pb-12 mt-5">
        <div class="mb-5">
            <div class="text-3xl w-full font-bold">Profile</div>
        </div>

        <div class="mb-10 text-lg">
            I am a software developer with about 2 years of experience
            passionate about learning and problem-solving. I specialize in
            creating innovative and efficient solutions to enhance the user
            experience. I love working on challenging projects and mastering
            different subjects. I always seek to learn something new and stay
            updated on the latest technologies and trends in the world of
            software development.
        </div>

        <div class="mb-5">
            <div class="text-3xl w-full font-bold">Experience</div>
        </div>

        <div class="time-line-container grid gap-4 mb-10">
            <ol
                class="relative text-gray-500 border-l border-gray-200 dark:border-gray-700 dark:text-gray-400"
            >
                {
                    experience.map((exp) => (
                        <li class="mb-10 ml-6">
                            <span class="absolute flex items-center justify-center w-6 h-6 rounded-full -left-4 ring-4 ring-white dark:ring-gray-900 dark:bg-purple-900" />
                            <h3 class="font-medium leading-tight text-lg">
                                {exp.name}
                            </h3>
                            <p class="font-light text-sm">
                                {exp.from} to {exp.to} at {exp.where} -
                                {calculateTotalTime(exp.from, exp.to, lang)}
                            </p>
                            <p class="my-2 text-left">{exp.description}</p>
                        </li>
                    ))
                }
            </ol>
        </div>

        <div class="mb-5">
            <div class="text-3xl w-full font-bold">Education</div>
        </div>

        <div class="time-line-container grid gap-4 mb-10">
            <ol
                class="relative text-gray-500 border-l border-gray-200 dark:border-gray-700 dark:text-gray-400"
            >
                {
                    education.map((ed) => (
                        <li class="mb-10 ml-6">
                            <span class="absolute flex items-center justify-center w-6 h-6 rounded-full -left-4 ring-4 ring-white dark:ring-gray-900 dark:bg-purple-900" />
                            <h3 class="font-medium leading-tight text-lg">
                                {ed.name}
                            </h3>
                            <p class="font-light text-sm">
                                {ed.from} to {ed.to} at {ed.where}
                            </p>
                        </li>
                    ))
                }
            </ol>
        </div>

        <div class="mb-5">
            <div class="text-3xl w-full font-bold">Certifications</div>
        </div>

        <ul class="list-disc mx-6 mb-10 grid gap-2 md:grid-cols-2">
            {certifications.map((cert) => <li>{cert}</li>)}
        </ul>

        <div class="mb-5">
            <div class="text-3xl w-full font-bold">Skills</div>
        </div>

        <ul class="list-disc md:columns-5 columns-2 mx-6">
            {
                skills.map((skill) => (
                    <li class="flex items-center gap-1">
                        <Icon
                            name={skill.icon}
                            class="inline-block w-6 h-6 mr-2"
                        />
                        <p>{skill.name}</p>
                    </li>
                ))
            }
        </ul>
    </div>
</Layout>
